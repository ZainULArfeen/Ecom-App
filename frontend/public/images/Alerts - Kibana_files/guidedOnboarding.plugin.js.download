!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=9)}([function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t,i){e.exports=i(11)(2)},function(e,t,i){i.r(t);var n=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,i){i(10),__kbnBundles__.define("plugin/guidedOnboarding/public",i,12)},function(e,t,i){i.p=window.__kbnPublicPath__.guidedOnboarding},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,i){"use strict";i.r(t),i.d(t,"plugin",(function(){return y}));var n=i(6),s=i.n(n),a=i(3),u=i.n(a),o=i(5),r=i(8),l=i(1),c=i(2);const d={security:{title:"Get started with SIEM",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ligula enim, malesuada a finibus vel, cursus sed risus. Vivamus pretium, elit dictum lacinia aliquet, libero nibh dictum enim, a rhoncus leo magna in sapien.",steps:[{id:"add_data",title:"Add and view your data",descriptionList:["Lorem ipsum dolor sit amet, consectetur adipiscing elit.","Nullam ligula enim, malesuada a finibus vel, cursus sed risus.","Vivamus pretium, elit dictum lacinia aliquet, libero nibh dictum enim, a rhoncus leo magna in sapien."]},{id:"rules",title:"Turn on rules",descriptionList:["Lorem ipsum dolor sit amet, consectetur adipiscing elit.","Nullam ligula enim, malesuada a finibus vel, cursus sed risus.","Vivamus pretium, elit dictum lacinia aliquet, libero nibh dictum enim, a rhoncus leo magna in sapien."]},{id:"alerts",title:"View Alerts",descriptionList:["Lorem ipsum dolor sit amet, consectetur adipiscing elit.","Nullam ligula enim, malesuada a finibus vel, cursus sed risus.","Vivamus pretium, elit dictum lacinia aliquet, libero nibh dictum enim, a rhoncus leo magna in sapien."]},{id:"cases",title:"Cases and investigations",descriptionList:["Lorem ipsum dolor sit amet, consectetur adipiscing elit.","Nullam ligula enim, malesuada a finibus vel, cursus sed risus.","Vivamus pretium, elit dictum lacinia aliquet, libero nibh dictum enim, a rhoncus leo magna in sapien."]}]},observability:{title:"Observe my infrastructure",description:"The foundation of seeing Elastic in action, is adding you own data. Follow links to our documents below to learn more.",docs:{text:"Observability 101 Documentation",url:"example.com"},steps:[{id:"add_data",title:"Add data",descriptionList:["Lorem ipsum dolor sit amet, consectetur adipiscing elit.","Nullam ligula enim, malesuada a finibus vel, cursus sed risus.","Vivamus pretium, elit dictum lacinia aliquet, libero nibh dictum enim, a rhoncus leo magna in sapien."]},{id:"view_dashboard",title:"View Kubernetes metrics",descriptionList:["Lorem ipsum dolor sit amet, consectetur adipiscing elit.","Nullam ligula enim, malesuada a finibus vel, cursus sed risus.","Vivamus pretium, elit dictum lacinia aliquet, libero nibh dictum enim, a rhoncus leo magna in sapien."]},{id:"tour_observability",title:"Tour Elastic Observability",descriptionList:["Lorem ipsum dolor sit amet, consectetur adipiscing elit.","Nullam ligula enim, malesuada a finibus vel, cursus sed risus.","Vivamus pretium, elit dictum lacinia aliquet, libero nibh dictum enim, a rhoncus leo magna in sapien."]}]},search:{title:"Search my data",description:"We'll help you build world-class search experiences with your data, using Elastic's out-of-the-box web crawler, connectors, and our robust APIs. Gain deep insights from the built-in search analytics and use that data to inform changes to relevance.",docs:{text:"Enterprise Search 101 Documentation",url:"example.com"},steps:[{id:"add_data",title:"Add data",descriptionList:["Lorem ipsum dolor sit amet, consectetur adipiscing elit.","Nullam ligula enim, malesuada a finibus vel, cursus sed risus.","Vivamus pretium, elit dictum lacinia aliquet, libero nibh dictum enim, a rhoncus leo magna in sapien."],location:{appID:"guidedOnboardingExample",path:"stepOne"}},{id:"browse_docs",title:"Browse your documents",descriptionList:["Lorem ipsum dolor sit amet, consectetur adipiscing elit.","Nullam ligula enim, malesuada a finibus vel, cursus sed risus.","Vivamus pretium, elit dictum lacinia aliquet, libero nibh dictum enim, a rhoncus leo magna in sapien."],location:{appID:"guidedOnboardingExample",path:"stepTwo?showTour=true"}},{id:"search_experience",title:"Build a search experience",descriptionList:["Lorem ipsum dolor sit amet, consectetur adipiscing elit.","Nullam ligula enim, malesuada a finibus vel, cursus sed risus.","Vivamus pretium, elit dictum lacinia aliquet, libero nibh dictum enim, a rhoncus leo magna in sapien."]}]}};var p=i(0);const b=({accordionId:e,stepStatus:t,stepNumber:i,stepConfig:n,navigateToStep:s})=>{const{euiTheme:a}=Object(l.useEuiTheme)(),o=(e=>({stepNumber:Object(p.css)("width:24px;height:24px;border-radius:50%;border:2px solid ",e.colors.success,";font-weight:",e.font.weight.medium,";text-align:center;line-height:1.4;",""),stepTitle:Object(p.css)("font-weight:",e.font.weight.bold,";","")}))(a),r=Object(p.jsx)(l.EuiFlexGroup,{gutterSize:"s",responsive:!1,justifyContent:"center",alignItems:"center"},Object(p.jsx)(l.EuiFlexItem,{grow:!1},"complete"===t?Object(p.jsx)(l.EuiIcon,{type:"checkInCircleFilled",size:"l",color:a.colors.success}):Object(p.jsx)("span",{css:o.stepNumber},i)),Object(p.jsx)(l.EuiFlexItem,{grow:!1},Object(p.jsx)(l.EuiText,{size:"m",css:o.stepTitle},n.title)));return Object(p.jsx)("div",{"data-test-subj":"guidePanelStep"},Object(p.jsx)(l.EuiAccordion,{id:e,buttonContent:r,arrowDisplay:"right",forceState:"in_progress"===t?"open":"closed"},Object(p.jsx)(u.a.Fragment,null,Object(p.jsx)(l.EuiSpacer,{size:"s"}),Object(p.jsx)(l.EuiText,{size:"s"},Object(p.jsx)("ul",null,n.descriptionList.map(((e,t)=>Object(p.jsx)("li",{key:`description-${t}`},e))))),Object(p.jsx)(l.EuiSpacer,null),"in_progress"===t&&Object(p.jsx)(l.EuiFlexGroup,{justifyContent:"flexEnd"},Object(p.jsx)(l.EuiFlexItem,{grow:!1},Object(p.jsx)(l.EuiButton,{onClick:()=>s(n),fill:!0},c.i18n.translate("guidedOnboarding.dropdownPanel.startStepButtonLabel",{defaultMessage:"Start"})))))),Object(p.jsx)(l.EuiHorizontalRule,{margin:"l"}))};var m={name:"1yn1tcb",styles:".euiFlyoutBody__overflowContent{width:480px;padding-top:10px;}"},g={name:"14uek0h",styles:'top:55px!important;bottom:25px!important;right:128px;border-radius:6px;width:480px;height:auto;animation:euiModal 350ms cubic-bezier(0.34, 1.61, 0.7, 1);box-shadow:none;"@media only screen and (max-width: 574px)":{right:25px;width:100%;}'};const j=({api:e,application:t})=>{const{euiTheme:i}=Object(l.useEuiTheme)(),[n,s]=Object(a.useState)(!1),[r,j]=Object(a.useState)(void 0),x=Object(a.useRef)(!0),f=(e=>({flyoutOverrides:{flyoutContainer:g,flyoutBody:m,flyoutFooter:Object(p.css)("border-radius:0 0 6px 6px;background:",e.colors.ghost,";padding:24px 30px;","")}}))(i),h=()=>{s((e=>!e))},O=e=>{s(!1),e.location&&t.navigateToApp(e.location.appID,{path:e.location.path})};Object(a.useEffect)((()=>{const t=e.fetchGuideState$().subscribe((e=>{(null==r?void 0:r.activeGuide)===e.activeGuide&&(null==r?void 0:r.activeStep)===e.activeStep||(x.current?x.current=!1:s(!0)),j(e)}));return()=>t.unsubscribe()}),[e,null==r?void 0:r.activeGuide,null==r?void 0:r.activeStep]);const v=(e=>{if(null!=e&&e.activeGuide&&"unset"!==e.activeGuide)return d[e.activeGuide]})(r);if(!v)return Object(p.jsx)(l.EuiButton,{onClick:h,color:"success",fill:!0,isDisabled:!0,size:"s","data-test-subj":"disabledGuideButton"},c.i18n.translate("guidedOnboarding.disabledGuidedSetupButtonLabel",{defaultMessage:"Setup guide"}));const S=((e,t)=>{if(e&&null!=t&&t.activeStep){const i=e.findIndex((e=>e.id===t.activeStep));return i>-1?i+1:void 0}})(v.steps,r);return Object(p.jsx)(u.a.Fragment,null,Object(p.jsx)(l.EuiButton,{onClick:h,color:"success",fill:!0,size:"s","data-test-subj":"guideButton"},S?c.i18n.translate("guidedOnboarding.guidedSetupStepButtonLabel",{defaultMessage:"Setup guide: Step {currentStep}",values:{currentStep:S}}):c.i18n.translate("guidedOnboarding.guidedSetupButtonLabel",{defaultMessage:"Setup guide"})),n&&Object(p.jsx)(l.EuiFlyout,{ownFocus:!0,onClose:h,"aria-labelledby":"onboarding-guide",css:f.flyoutOverrides.flyoutContainer,maskProps:{headerZindexLocation:"above"},"data-test-subj":"guidePanel"},Object(p.jsx)(l.EuiFlyoutHeader,null,Object(p.jsx)(l.EuiButtonEmpty,{onClick:()=>{s(!1),t.navigateToApp("home",{path:"#getting_started"})},iconSide:"left",iconType:"arrowLeft",flush:"left",color:"text"},c.i18n.translate("guidedOnboarding.dropdownPanel.backToGuidesLink",{defaultMessage:"Back to guides"})),Object(p.jsx)(l.EuiTitle,{size:"m"},Object(p.jsx)("h2",null,null==v?void 0:v.title)),Object(p.jsx)(l.EuiSpacer,{size:"s"}),Object(p.jsx)(l.EuiHorizontalRule,{margin:"s"})),Object(p.jsx)(l.EuiFlyoutBody,{css:f.flyoutOverrides.flyoutBody},Object(p.jsx)("div",null,Object(p.jsx)(l.EuiText,{size:"m"},Object(p.jsx)("p",null,null==v?void 0:v.description)),v.docs&&Object(p.jsx)(u.a.Fragment,null,Object(p.jsx)(l.EuiSpacer,{size:"s"}),Object(p.jsx)(l.EuiText,{size:"m"},Object(p.jsx)(l.EuiLink,{external:!0,target:"_blank",href:v.docs.url},v.docs.text))),Object(p.jsx)(l.EuiSpacer,{size:"xl"}),Object(p.jsx)(l.EuiProgress,{label:c.i18n.translate("guidedOnboarding.dropdownPanel.progressLabel",{defaultMessage:"Progress"}),value:S?S-1:0,valueText:c.i18n.translate("guidedOnboarding.dropdownPanel.progressValueLabel",{defaultMessage:"{stepCount} steps",values:{stepCount:`${S?S-1:0} / ${v.steps.length}`}}),max:v.steps.length,size:"l"}),Object(p.jsx)(l.EuiSpacer,{size:"s"}),Object(p.jsx)(l.EuiHorizontalRule,null),null==v?void 0:v.steps.map(((e,t,i)=>{const n=Object(l.htmlIdGenerator)(`accordion${t}`)(),s=((e,t,i)=>{const n=e.findIndex((e=>e.id===i));return n<t?"incomplete":n===t?"in_progress":"complete"})(i,t,null==r?void 0:r.activeStep);return Object(p.jsx)(b,{accordionId:n,stepStatus:s,stepConfig:e,stepNumber:t+1,navigateToStep:O,key:n})})))),Object(p.jsx)(l.EuiFlyoutFooter,{css:f.flyoutOverrides.flyoutFooter},Object(p.jsx)(l.EuiFlexGroup,{direction:"column",alignItems:"center",gutterSize:"xs"},Object(p.jsx)(l.EuiFlexItem,null,Object(p.jsx)(l.EuiButtonEmpty,{onClick:()=>{}},c.i18n.translate("guidedOnboarding.dropdownPanel.footer.exitGuideButtonLabel",{defaultMessage:"Exit setup guide"}))),Object(p.jsx)(l.EuiFlexItem,null,Object(p.jsx)(l.EuiText,{color:"subdued",textAlign:"center"},Object(p.jsx)(o.FormattedMessage,{id:"guidedOnboarding.dropdownPanel.footer.feedbackDescription",defaultMessage:"How's onboarding? We’d love your {feedbackLink}",values:{feedbackLink:Object(p.jsx)(l.EuiLink,{href:"https://www.elastic.co/kibana/feedback",target:"_blank",external:!0},c.i18n.translate("guidedOnboarding.dropdownPanel.footer.feedbackLabel",{defaultMessage:"feedback"}))}}))),Object(p.jsx)(l.EuiFlexItem,null,Object(p.jsx)(l.EuiText,{color:"subdued",textAlign:"center"},Object(p.jsx)(o.FormattedMessage,{id:"guidedOnboarding.dropdownPanel.footer.supportDescription",defaultMessage:"Other questions? We're {helpLink}",values:{helpLink:Object(p.jsx)(l.EuiLink,{href:"https://cloud.elastic.co/support ",target:"_blank",external:!0},c.i18n.translate("guidedOnboarding.dropdownPanel.footer.helpTextDescription",{defaultMessage:"here to help"}))}})))))))};var x=i(7),f=i.n(x),h=i(4);const O="/api/guided_onboarding",v=e=>{if(e&&Object.keys(d).includes(e))return d[e]},S=(e,t)=>{const i=v(e);return i?i.steps.findIndex((e=>e.id===t)):-1},_=new class api_ApiService{constructor(){f()(this,"client",void 0),f()(this,"onboardingGuideState$",void 0)}setup(e){this.client=e,this.onboardingGuideState$=new h.BehaviorSubject(void 0)}fetchGuideState$(){return this.onboardingGuideState$.pipe(Object(h.concatMap)((e=>void 0===e?Object(h.from)(this.client.get(`${O}/state`)).pipe(Object(h.map)((e=>e.state))):Object(h.of)(e))))}async updateGuideState(e){if(!this.client)throw new Error("ApiService has not be initialized.");try{const t=await this.client.put(`${O}/state`,{body:JSON.stringify(e)});return this.onboardingGuideState$.next(e),t}catch(e){console.error(e)}}isGuideStepActive$(e,t){return this.fetchGuideState$().pipe(Object(h.map)((i=>!!i&&i.activeGuide===e&&i.activeStep===t)))}async completeGuideStep(e,t){if(await Object(h.firstValueFrom)(this.isGuideStepActive$(e,t)))if(((e,t)=>{const i=v(e),n=S(e,t),s=(null==i?void 0:i.steps.length)||0;return s>0&&n===s-1})(e,t))await this.updateGuideState({activeGuide:e,activeStep:"completed"});else{const i=((e,t)=>{const i=v(e),n=S(e,t);if(n>-1&&null!=i&&i.steps[n+1])return null==i?void 0:i.steps[n+1].id})(e,t);void 0!==i&&await this.updateGuideState({activeGuide:e,activeStep:i})}}};class plugin_GuidedOnboardingPlugin{constructor(e){this.ctx=e}setup(e){return{}}start(e){const{ui:t}=this.ctx.config.get();if(!t)return{};const{chrome:i,http:n,theme:s,application:a}=e;return _.setup(n),i.navControls.registerExtension({order:1e3,mount:e=>this.mount({targetDomElement:e,theme$:s.theme$,api:_,application:a})}),{guidedOnboardingApi:_}}stop(){}mount({targetDomElement:e,theme$:t,api:i,application:n}){return s.a.render(Object(p.jsx)(r.KibanaThemeProvider,{theme$:t},Object(p.jsx)(o.I18nProvider,null,Object(p.jsx)(j,{api:i,application:n}))),e),()=>s.a.unmountComponentAtNode(e)}}function y(e){return new plugin_GuidedOnboardingPlugin(e)}}]);