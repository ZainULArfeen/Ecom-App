!function(e){function t(t){for(var a,r,i=t[0],s=t[1],o=0,d=[];o<i.length;o++)r=i[o],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);for(l&&l(t);d.length;)d.shift()()}var a={},n={1:0};function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(e){var t=[],a=n[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise((function(t,r){a=n[e]=[t,r]}));t.push(a[2]=i);var s,o=document.createElement("script");o.charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.src=function(e){return r.p+"dashboard.chunk."+e+".js"}(e);var l=new Error;s=function(t){o.onerror=o.onload=null,clearTimeout(d);var a=n[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",l.name="ChunkLoadError",l.type=r,l.request=i,a[1](l)}n[e]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:o})}),12e4);o.onerror=o.onload=s,document.head.appendChild(o)}return Promise.all(t)},r.m=e,r.c=a,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var i=window.dashboard_bundle_jsonpfunction=window.dashboard_bundle_jsonpfunction||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var o=0;o<i.length;o++)t(i[o]);var l=s;r(r.s=45)}([function(e,t,a){e.exports=a(26)(2)},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t,a){a.r(t);var n=__kbnBundles__.get("plugin/embeddable/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,a){"use strict";a.d(t,"w",(function(){return i})),a.d(t,"C",(function(){return s})),a.d(t,"u",(function(){return o})),a.d(t,"v",(function(){return l})),a.d(t,"g",(function(){return d})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return p})),a.d(t,"e",(function(){return b})),a.d(t,"f",(function(){return h})),a.d(t,"o",(function(){return g})),a.d(t,"i",(function(){return f})),a.d(t,"m",(function(){return m})),a.d(t,"h",(function(){return v})),a.d(t,"x",(function(){return E})),a.d(t,"t",(function(){return y})),a.d(t,"l",(function(){return S})),a.d(t,"n",(function(){return O})),a.d(t,"B",(function(){return I})),a.d(t,"y",(function(){return _})),a.d(t,"q",(function(){return T})),a.d(t,"a",(function(){return w})),a.d(t,"A",(function(){return D})),a.d(t,"k",(function(){return P})),a.d(t,"r",(function(){return N})),a.d(t,"j",(function(){return A})),a.d(t,"p",(function(){return j})),a.d(t,"s",(function(){return R})),a.d(t,"z",(function(){return C}));var n=a(1),r=a(3);function i(e,t,a){const i=t===r.ViewMode.EDIT,s=a?E():e;return i?n.i18n.translate("dashboard.strings.dashboardEditTitle",{defaultMessage:"Editing {title}",values:{title:s}}):s}const s={getUnsavedChangedBadgeText:()=>n.i18n.translate("dashboard.unsavedChangesBadge",{defaultMessage:"Unsaved changes"})},o=()=>n.i18n.translate("dashboard.dashboardAppBreadcrumbsTitle",{defaultMessage:"Dashboard"}),l=()=>n.i18n.translate("dashboard.dashboardPageTitle",{defaultMessage:"Dashboards"}),d={getTitle:()=>n.i18n.translate("dashboard.featureCatalogue.dashboardTitle",{defaultMessage:"Dashboard"}),getSubtitle:()=>n.i18n.translate("dashboard.featureCatalogue.dashboardSubtitle",{defaultMessage:"Analyze data in dashboards."}),getDescription:()=>n.i18n.translate("dashboard.featureCatalogue.dashboardDescription",{defaultMessage:"Display and share a collection of visualizations and saved searches."})},c={getDisplayName:()=>n.i18n.translate("dashboard.panel.copyToDashboard.title",{defaultMessage:"Copy to dashboard"}),getCancelButtonName:()=>n.i18n.translate("dashboard.panel.copyToDashboard.cancel",{defaultMessage:"Cancel"}),getAcceptButtonName:()=>n.i18n.translate("dashboard.panel.copyToDashboard.goToDashboard",{defaultMessage:"Copy and go to dashboard"}),getNewDashboardOption:()=>n.i18n.translate("dashboard.panel.copyToDashboard.newDashboardOptionLabel",{defaultMessage:"New dashboard"}),getExistingDashboardOption:()=>n.i18n.translate("dashboard.panel.copyToDashboard.existingDashboardOptionLabel",{defaultMessage:"Existing dashboard"}),getDescription:()=>n.i18n.translate("dashboard.panel.copyToDashboard.description",{defaultMessage:"Choose the destination dashboard."})},u={getDisplayName:()=>n.i18n.translate("dashboard.panel.AddToLibrary",{defaultMessage:"Save to library"}),getSuccessMessage:e=>n.i18n.translate("dashboard.panel.addToLibrary.successMessage",{defaultMessage:"Panel {panelTitle} was added to the visualize library",values:{panelTitle:e}})},p={getDisplayName:()=>n.i18n.translate("dashboard.panel.clonePanel",{defaultMessage:"Clone panel"}),getClonedTag:()=>n.i18n.translate("dashboard.panel.title.clonedTag",{defaultMessage:"copy"}),getSuccessMessage:()=>n.i18n.translate("dashboard.panel.clonedToast",{defaultMessage:"Cloned panel"})},b={getMinimizeTitle:()=>n.i18n.translate("dashboard.actions.toggleExpandPanelMenuItem.expandedDisplayName",{defaultMessage:"Minimize"}),getMaximizeTitle:()=>n.i18n.translate("dashboard.actions.toggleExpandPanelMenuItem.notExpandedDisplayName",{defaultMessage:"Maximize panel"})},h={getDisplayName:()=>n.i18n.translate("dashboard.actions.DownloadCreateDrilldownAction.displayName",{defaultMessage:"Download as CSV"}),getUntitledFilename:()=>n.i18n.translate("dashboard.actions.downloadOptionsUnsavedFilename",{defaultMessage:"untitled"})},g={getDisplayName:()=>n.i18n.translate("dashboard.panel.unlinkFromLibrary",{defaultMessage:"Unlink from library"}),getSuccessMessage:e=>n.i18n.translate("dashboard.panel.unlinkFromLibrary.successMessage",{defaultMessage:"Panel {panelTitle} is no longer connected to the visualize library",values:{panelTitle:e}})},f={getDisplayName:()=>n.i18n.translate("dashboard.panel.LibraryNotification",{defaultMessage:"Visualize Library Notification"}),getTooltip:()=>n.i18n.translate("dashboard.panel.libraryNotification.toolTip",{defaultMessage:"Editing this panel might affect other dashboards. To change this panel only, unlink it from the library."}),getPopoverAriaLabel:()=>n.i18n.translate("dashboard.panel.libraryNotification.ariaLabel",{defaultMessage:"View library information and unlink this panel"})},m={getDisplayName:()=>n.i18n.translate("dashboard.panel.removePanel.replacePanel",{defaultMessage:"Replace panel"}),getSuccessMessage:e=>n.i18n.translate("dashboard.addPanel.savedObjectAddedToContainerSuccessMessageTitle",{defaultMessage:"{savedObjectName} was added",values:{savedObjectName:e}}),getNoMatchingObjectsMessage:()=>n.i18n.translate("dashboard.addPanel.noMatchingObjectsMessage",{defaultMessage:"No matching objects found."})},v={getDisplayName:()=>n.i18n.translate("dashboard.panel.filters",{defaultMessage:"Panel filters"}),getEditButtonTitle:()=>n.i18n.translate("dashboard.panel.filters.modal.editButton",{defaultMessage:"Edit filters"}),getCloseButtonTitle:()=>n.i18n.translate("dashboard.panel.filters.modal.closeButton",{defaultMessage:"Close"}),getQueryTitle:()=>n.i18n.translate("dashboard.panel.filters.modal.queryTitle",{defaultMessage:"Query"}),getFiltersTitle:()=>n.i18n.translate("dashboard.panel.filters.modal.filtersTitle",{defaultMessage:"Filters"})},E=()=>n.i18n.translate("dashboard.savedDashboard.newDashboardTitle",{defaultMessage:"New Dashboard"}),y=()=>n.i18n.translate("dashboard.urlWasRemovedInSixZeroWarningMessage",{defaultMessage:'The url "dashboard/create" was removed in 6.0. Please update your bookmarks.'}),S={getText:()=>n.i18n.translate("dashboard.badge.readOnly.text",{defaultMessage:"Read only"}),getTooltip:()=>n.i18n.translate("dashboard.badge.readOnly.tooltip",{defaultMessage:"Unable to save dashboards"})},O={getSuccessString:e=>n.i18n.translate("dashboard.dashboardWasSavedSuccessMessage",{defaultMessage:"Dashboard '{dashTitle}' was saved",values:{dashTitle:e}}),getFailureString:(e,t)=>n.i18n.translate("dashboard.dashboardWasNotSavedDangerMessage",{defaultMessage:"Dashboard '{dashTitle}' was not saved. Error: {errorMessage}",values:{dashTitle:e,errorMessage:t}})},I={getTopMenuCheckbox:()=>n.i18n.translate("dashboard.embedUrlParamExtension.topMenu",{defaultMessage:"Top menu"}),getQueryCheckbox:()=>n.i18n.translate("dashboard.embedUrlParamExtension.query",{defaultMessage:"Query"}),getTimeFilterCheckbox:()=>n.i18n.translate("dashboard.embedUrlParamExtension.timeFilter",{defaultMessage:"Time filter"}),getFilterBarCheckbox:()=>n.i18n.translate("dashboard.embedUrlParamExtension.filterBar",{defaultMessage:"Filter bar"}),getCheckboxLegend:()=>n.i18n.translate("dashboard.embedUrlParamExtension.include",{defaultMessage:"Include"})},_={getLeaveTitle:()=>n.i18n.translate("dashboard.appLeaveConfirmModal.unsavedChangesTitle",{defaultMessage:"Unsaved changes"}),getLeaveSubtitle:()=>n.i18n.translate("dashboard.appLeaveConfirmModal.unsavedChangesSubtitle",{defaultMessage:"Leave Dashboard with unsaved work?"}),getLeaveCancelButtonText:()=>n.i18n.translate("dashboard.appLeaveConfirmModal.cancelButtonLabel",{defaultMessage:"Cancel"})},T={getDiscardTitle:()=>n.i18n.translate("dashboard.discardChangesConfirmModal.discardChangesTitle",{defaultMessage:"Discard changes to dashboard?"}),getDiscardSubtitle:()=>n.i18n.translate("dashboard.discardChangesConfirmModal.discardChangesDescription",{defaultMessage:"Once you discard your changes, there's no getting them back."}),getDiscardConfirmButtonText:()=>n.i18n.translate("dashboard.discardChangesConfirmModal.confirmButtonLabel",{defaultMessage:"Discard changes"}),getDiscardCancelButtonText:()=>n.i18n.translate("dashboard.discardChangesConfirmModal.cancelButtonLabel",{defaultMessage:"Cancel"})},w={getCreateTitle:()=>n.i18n.translate("dashboard.createConfirmModal.unsavedChangesTitle",{defaultMessage:"New dashboard already in progress"}),getCreateSubtitle:()=>n.i18n.translate("dashboard.createConfirmModal.unsavedChangesSubtitle",{defaultMessage:"Continue editing or start over with a blank dashboard."}),getStartOverButtonText:()=>n.i18n.translate("dashboard.createConfirmModal.confirmButtonLabel",{defaultMessage:"Start over"}),getContinueButtonText:()=>n.i18n.translate("dashboard.createConfirmModal.continueButtonLabel",{defaultMessage:"Continue editing"}),getCancelButtonText:()=>n.i18n.translate("dashboard.createConfirmModal.cancelButtonLabel",{defaultMessage:"Cancel"})},D={getPanelsGetError:e=>n.i18n.translate("dashboard.panelStorageError.getError",{defaultMessage:"Error encountered while fetching unsaved changes: {message}",values:{message:e}}),getPanelsSetError:e=>n.i18n.translate("dashboard.panelStorageError.setError",{defaultMessage:"Error encountered while setting unsaved changes: {message}",values:{message:e}}),getPanelsClearError:e=>n.i18n.translate("dashboard.panelStorageError.clearError",{defaultMessage:"Error encountered while clearing unsaved changes: {message}",values:{message:e}})},P={getDashboardLoadError:e=>n.i18n.translate("dashboard.loadingError.errorMessage",{defaultMessage:"Error encountered while loading saved dashboard: {message}",values:{message:e}}),getDashboardGridError:e=>n.i18n.translate("dashboard.loadingError.dashboardGridErrorMessage",{defaultMessage:"Unable to load dashboard: {message}",values:{message:e}})},N={getEmptyDashboardTitle:()=>n.i18n.translate("dashboard.emptyDashboardTitle",{defaultMessage:"This dashboard is empty."}),getEmptyDashboardAdditionalPrivilege:()=>n.i18n.translate("dashboard.emptyDashboardAdditionalPrivilege",{defaultMessage:"You need additional privileges to edit this dashboard."}),getFillDashboardTitle:()=>n.i18n.translate("dashboard.fillDashboardTitle",{defaultMessage:"This dashboard is empty. Letâ€™s fill it up!"}),getHowToStartWorkingOnNewDashboardDescription:()=>n.i18n.translate("dashboard.howToStartWorkingOnNewDashboardDescription",{defaultMessage:"Click edit in the menu bar above to start adding panels."}),getHowToStartWorkingOnNewDashboardEditLinkAriaLabel:()=>n.i18n.translate("dashboard.howToStartWorkingOnNewDashboardEditLinkAriaLabel",{defaultMessage:"Edit dashboard"}),getEmptyWidgetTitle:()=>n.i18n.translate("dashboard.emptyWidget.addPanelTitle",{defaultMessage:"Add your first visualization"}),getEmptyWidgetDescription:()=>n.i18n.translate("dashboard.emptyWidget.addPanelDescription",{defaultMessage:"Create content that tells a story about your data."})},A={getEntityName:()=>n.i18n.translate("dashboard.listing.table.entityName",{defaultMessage:"dashboard"}),getEntityNamePlural:()=>n.i18n.translate("dashboard.listing.table.entityNamePlural",{defaultMessage:"dashboards"}),getTableListTitle:()=>l()},j={getUnsavedChangesTitle:(e=!1)=>n.i18n.translate("dashboard.listing.unsaved.unsavedChangesTitle",{defaultMessage:"You have unsaved changes in the following {dash}:",values:{dash:e?A.getEntityNamePlural():A.getEntityName()}}),getLoadingTitle:()=>n.i18n.translate("dashboard.listing.unsaved.loading",{defaultMessage:"Loading"}),getEditAriaLabel:e=>n.i18n.translate("dashboard.listing.unsaved.editAria",{defaultMessage:"Continue editing {title}",values:{title:e}}),getEditTitle:()=>n.i18n.translate("dashboard.listing.unsaved.editTitle",{defaultMessage:"Continue editing"}),getDiscardAriaLabel:e=>n.i18n.translate("dashboard.listing.unsaved.discardAria",{defaultMessage:"Discard changes to {title}",values:{title:e}}),getDiscardTitle:()=>n.i18n.translate("dashboard.listing.unsaved.discardTitle",{defaultMessage:"Discard changes"})},R=()=>n.i18n.translate("dashboard.solutionToolbar.addPanelButtonLabel",{defaultMessage:"Create visualization"}),C={getReadonlyTitle:()=>n.i18n.translate("dashboard.listing.readonlyNoItemsTitle",{defaultMessage:"No dashboards to view"}),getReadonlyBody:()=>n.i18n.translate("dashboard.listing.readonlyNoItemsBody",{defaultMessage:"There are no available dashboards. To change your permissions to view the dashboards in this space, contact your administrator."}),getReadEditTitle:()=>n.i18n.translate("dashboard.listing.createNewDashboard.title",{defaultMessage:"Create your first dashboard"}),getReadEditInProgressTitle:()=>n.i18n.translate("dashboard.listing.createNewDashboard.inProgressTitle",{defaultMessage:"Dashboard in progress"}),getReadEditDashboardDescription:()=>n.i18n.translate("dashboard.listing.createNewDashboard.combineDataViewFromKibanaAppDescription",{defaultMessage:"Analyze all of your Elastic data in one place by creating a dashboard and adding visualizations."}),getSampleDataLinkText:()=>n.i18n.translate("dashboard.listing.createNewDashboard.sampleDataInstallLinkText",{defaultMessage:"Add some sample data"}),getCreateNewDashboardText:()=>n.i18n.translate("dashboard.listing.createNewDashboard.createButtonLabel",{defaultMessage:"Create a dashboard"})}},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t,a){a.r(t);var n=__kbnBundles__.get("plugin/uiActions/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,a){a.r(t);var n=__kbnBundles__.get("plugin/presentationUtil/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t,a){"use strict";a.r(t),a.d(t,"pluginServices",(function(){return s})),a.d(t,"registry",(function(){return o}));var n=a(7),r=a(30);const i={analytics:new n.PluginServiceProvider((({coreStart:e})=>{const{analytics:{reportEvent:t}}=e;return{reportEvent:t}})),application:new n.PluginServiceProvider((({coreStart:e})=>{const{application:{currentAppId$:t,navigateToApp:a,navigateToUrl:n,getUrlForApp:r,capabilities:{advancedSettings:i,maps:s,navLinks:o,visualize:l}}}=e;return{currentAppId$:t,navigateToApp:a,navigateToUrl:n,getUrlForApp:r,capabilities:{advancedSettings:i,maps:s,navLinks:o,visualize:l}}})),chrome:new n.PluginServiceProvider((({coreStart:e})=>{const{chrome:{docTitle:t,setBadge:a,getIsVisible$:n,recentlyAccessed:r,setBreadcrumbs:i,setHelpExtension:s,setIsVisible:o}}=e;return{docTitle:t,setBadge:a,getIsVisible$:n,recentlyAccessed:r,setBreadcrumbs:i,setHelpExtension:s,setIsVisible:o}})),coreContext:new n.PluginServiceProvider((({coreStart:e})=>{const{executionContext:t,i18n:{Context:a}}=e;return{executionContext:t,i18nContext:a}})),dashboardCapabilities:new n.PluginServiceProvider((({coreStart:e})=>{const{application:{capabilities:{dashboard:t,maps:a,visualize:n}}}=e;return{show:Boolean(t.show),saveQuery:Boolean(t.saveQuery),createNew:Boolean(t.createNew),mapsCapabilities:{save:Boolean(null==a?void 0:a.save)},createShortUrl:Boolean(t.createShortUrl),showWriteControls:Boolean(t.showWriteControls),visualizeCapabilities:{save:Boolean(null==n?void 0:n.save)},storeSearchSession:Boolean(t.storeSearchSession)}})),dashboardSessionStorage:new n.PluginServiceProvider(r.b,["notifications","spaces"]),data:new n.PluginServiceProvider((({startPlugins:e})=>{const{data:{dataViews:t,fieldFormats:a,query:n,search:r}}=e;return{dataViews:t,fieldFormats:a,query:n,search:r}})),dataViewEditor:new n.PluginServiceProvider((({startPlugins:e})=>{const{dataViewEditor:{openEditor:t,userPermissions:a}}=e;return{openEditor:t,userPermissions:a}})),documentationLinks:new n.PluginServiceProvider((({coreStart:e})=>{const{docLinks:{links:{kibana:t,indexPatterns:{introduction:a},dashboard:n}}}=e;return{indexPatternsDocLink:a,kibanaGuideDocLink:t.guide,dashboardDocLink:n.guide}})),embeddable:new n.PluginServiceProvider((({startPlugins:e})=>{const{embeddable:{getEmbeddableFactory:t,getEmbeddableFactories:a,getStateTransfer:n,EmbeddablePanel:r}}=e;return{getEmbeddableFactory:t,getEmbeddableFactories:a,getStateTransfer:n,EmbeddablePanel:r}})),http:new n.PluginServiceProvider((({coreStart:e})=>{const{http:{basePath:t}}=e;return{basePath:t}})),initializerContext:new n.PluginServiceProvider((({initContext:e})=>{const{env:{packageInfo:{version:t}},config:{get:a}}=e;return{kibanaVersion:t,allowByValueEmbeddables:a().allowByValueEmbeddables}})),navigation:new n.PluginServiceProvider((({startPlugins:e})=>{const{navigation:{ui:{TopNavMenu:t}}}=e;return{TopNavMenu:t}})),notifications:new n.PluginServiceProvider((({coreStart:e})=>{const{notifications:{toasts:t}}=e;return{toasts:t}})),overlays:new n.PluginServiceProvider((({coreStart:e})=>{const{overlays:{banners:t,openConfirm:a,openFlyout:n,openModal:r}}=e;return{banners:t,openConfirm:a,openFlyout:n,openModal:r}})),savedObjects:new n.PluginServiceProvider((({coreStart:e})=>{const{savedObjects:{client:t}}=e;return{client:t}})),savedObjectsTagging:new n.PluginServiceProvider((({startPlugins:e})=>{const{savedObjectsTaggingOss:t}=e;if(!t)return{hasApi:!1};const{getTaggingApi:a}=t,n=a();if(!n)return{hasApi:!1};const{ui:{components:r,getSearchBarFilter:i,getTableColumnDefinition:s,hasTagDecoration:o,parseSearchQuery:l}}=n;return{hasApi:!0,components:r,getSearchBarFilter:i,getTableColumnDefinition:s,hasTagDecoration:o,parseSearchQuery:l}})),screenshotMode:new n.PluginServiceProvider((({startPlugins:e})=>{const{screenshotMode:{isScreenshotMode:t,getScreenshotContext:a}}=e;return{isScreenshotMode:t,getScreenshotContext:a}})),settings:new n.PluginServiceProvider((({coreStart:e,startPlugins:t})=>{const{uiSettings:a,theme:n}=e,{presentationUtil:{labsService:{isProjectEnabled:r}}}=t;return{uiSettings:a,theme:n,isProjectEnabledInLabs:r}})),share:new n.PluginServiceProvider((({startPlugins:e})=>{const{share:t}=e;if(!t)return{};const{toggleShareContextMenu:a}=t;return{toggleShareContextMenu:a}})),spaces:new n.PluginServiceProvider((({startPlugins:e})=>{const{spaces:t}=e;if(!t||!t.ui)return{};const{getActiveSpace$:a,ui:{components:{getLegacyUrlConflict:n},redirectLegacyUrl:r}}=t;return{getActiveSpace$:a,getLegacyUrlConflict:n,redirectLegacyUrl:r}})),urlForwarding:new n.PluginServiceProvider((({startPlugins:e})=>{const{urlForwarding:{navigateToLegacyKibanaUrl:t}}=e;return{navigateToLegacyKibanaUrl:t}})),usageCollection:new n.PluginServiceProvider((({startPlugins:e})=>{const{usageCollection:t}=e;if(!t)return{};const{reportUiCounter:a}=t;return{reportUiCounter:a}})),visualizations:new n.PluginServiceProvider((({startPlugins:e})=>{const{visualizations:{get:t,getAliases:a,getByGroup:n,showNewVisModal:r}}=e;return{get:t,getAliases:a,getByGroup:n,showNewVisModal:r}}))},s=new n.PluginServices,o=new n.PluginServiceRegistry(i)},function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return o}));const n="_a",r="_g",i={LANDING_PAGE_PATH:"/list",CREATE_NEW_DASHBOARD_URL:"/create",VIEW_DASHBOARD_URL:"/view",PRINT_DASHBOARD_URL:"/print",ADD_EMBEDDABLE_ID:"addEmbeddableId",ADD_EMBEDDABLE_TYPE:"addEmbeddableType",DASHBOARDS_ID:"dashboards",DASHBOARD_ID:"dashboard",SEARCH_SESSION_ID:"searchSessionId",CHANGE_CHECK_DEBOUNCE:100,CHANGE_APPLY_DEBOUNCE:50};function s(e,t){if(!e)return`${i.CREATE_NEW_DASHBOARD_URL}`;const a=t?`?${n}=(viewMode:edit)`:"";return`${i.VIEW_DASHBOARD_URL}/${e}${a}`}function o(e){return e?`${i.LANDING_PAGE_PATH}?filter="${e}"`:i.LANDING_PAGE_PATH}},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t,a){a.r(t);var n=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,a){"use strict";a.d(t,"c",(function(){return dashboard_container_factory_DashboardContainerFactoryDefinition})),a.d(t,"b",(function(){return c.b})),a.d(t,"a",(function(){return c.a})),a.d(t,"d",(function(){return g}));var n=a(0),r=a.n(n),i=a(1),s=a(8),o=a(32),l=a(16),d=a(3),c=a(14);const u=e=>`${e.explicitInput.id}:`,p="controlGroup_",b="dashboard_control_group";class dashboard_container_factory_DashboardContainerFactoryDefinition{constructor(e){r()(this,"isContainerType",!0),r()(this,"type",c.a),r()(this,"inject",void 0),r()(this,"extract",void 0),r()(this,"isEditable",(async()=>!1)),r()(this,"getDisplayName",(()=>i.i18n.translate("dashboard.factory.displayName",{defaultMessage:"Dashboard"}))),r()(this,"buildControlGroup",(async e=>{const{pluginServices:t}=await Promise.resolve().then(a.bind(null,9)),{embeddable:{getEmbeddableFactory:n}}=t.getServices(),r=n(o.CONTROL_GROUP_TYPE),{filters:i,query:c,timeRange:u,viewMode:p,controlGroupInput:b,id:h}=e,g=await(null==r?void 0:r.create({id:`control_group_${null!=h?h:"new_dashboard"}`,...Object(l.getDefaultControlGroupInput)(),...Object(s.pickBy)(b,s.identity),timeRange:u,viewMode:p,filters:i,query:c}));return g&&!Object(d.isErrorEmbeddable)(g)&&await g.untilInitialized(),g})),r()(this,"create",(async(e,t)=>{const n=this.buildControlGroup(e),r=Promise.all([a.e(0),a.e(3)]).then(a.bind(null,248)),[i,{DashboardContainer:s}]=await Promise.all([n,r]);return Promise.resolve(new s(e,t,i))})),this.persistableStateService=e,this.inject=(e=>(t,a)=>{const n={...t};if("panels"in n){n.panels={...n.panels};for(const[t,r]of Object.entries(n.panels)){n.panels[t]={...r};const i=u(r),s=a.filter((e=>0===e.name.indexOf(i))).map((e=>({...e,name:e.name.replace(i,"")}))),o=0===s.length?a:s;if(void 0!==r.panelRefName){const e=o.find((e=>e.name===r.panelRefName));if(!e)throw new Error(`Could not find reference "${r.panelRefName}"`);void 0!==e&&(n.panels[t]={...r,type:e.type,explicitInput:{...n.panels[t].explicitInput,savedObjectId:e.id}},delete n.panels[t].panelRefName)}const{type:l,...d}=e.inject({...n.panels[t].explicitInput,type:n.panels[t].type},o);n.panels[t].explicitInput=d}}if("controlGroupInput"in n&&n.controlGroupInput){const t=a.filter((e=>0===e.name.indexOf(p))).map((e=>({...e,name:e.name.replace(p,"")}))),{type:r,...i}=e.inject({...n.controlGroupInput,type:l.CONTROL_GROUP_TYPE,id:b},t);n.controlGroupInput=i}return n})(this.persistableStateService),this.extract=(e=>t=>{const a={...t},n=[];if("panels"in a){a.panels={...a.panels};for(const[t,r]of Object.entries(a.panels)){const i=u(r);r.explicitInput.savedObjectId&&(r.panelRefName=`panel_${t}`,n.push({name:`${i}panel_${t}`,type:r.type,id:r.explicitInput.savedObjectId}),delete r.explicitInput.savedObjectId,delete r.explicitInput.type);const{state:s,references:o}=e.extract({...r.explicitInput,type:r.type}),l=o.filter((e=>"tag"!==e.type)).map((e=>({...e,name:`${i}${e.name}`})));n.push(...l);const{type:d,...c}=s;a.panels[t].explicitInput=c}}if("controlGroupInput"in a&&a.controlGroupInput){const{state:t,references:r}=e.extract({...a.controlGroupInput,type:l.CONTROL_GROUP_TYPE,id:b});a.controlGroupInput=t;const i=r.map((e=>({...e,name:`controlGroup_${e.name}`})));n.push(...i)}return{state:a,references:n}})(this.persistableStateService)}getDefaultInput(){return{panels:{},isEmbeddedExternally:!1,isFullScreenMode:!1,useMargins:!0,syncColors:!0,syncTooltips:!0}}}a(31),a(11);var h=a(2);const g=({factory:e})=>t=>Object(h.jsx)(d.EmbeddableRenderer,{input:t.input,onInputUpdated:t.onInputUpdated,factory:e})},function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"e",(function(){return i})),a.d(t,"d",(function(){return s})),a.d(t,"a",(function(){return o}));const n=48,r=20,i=n/2,s=15,o="dashboard"},function(e,t,a){a.r(t);var n=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,a){a.r(t);var n=__kbnBundles__.get("plugin/controls/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t,a){"use strict";a.d(t,"c",(function(){return d})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return DashboardAppLocatorDefinition}));var n=a(0),r=a.n(n),i=a(8),s=a(15),o=a(10);const l=Object(i.flow)(JSON.stringify,JSON.parse),d=e=>(Object.keys(e).forEach((t=>{void 0===e[t]&&delete e[t]})),e),c="DASHBOARD_APP_LOCATOR";class DashboardAppLocatorDefinition{constructor(e){r()(this,"id",c),r()(this,"getLocation",(async e=>{const{filters:t,useHash:n,preserveSavedFilters:r,dashboardId:i,...c}=e,u=null!=n?n:this.deps.useHashedUrl,p=i?`view/${i}`:"create",b=c;b.filters=e.filters&&[...await(async()=>{if(!1===r)return[];if(!e.dashboardId)return[];try{return await this.deps.getDashboardFilterFields(e.dashboardId)}catch(e){return[]}})(),...e.filters];const{isFilterPinned:h}=await a.e(0).then(a.bind(null,52));let g=`#/${p}`;return g=Object(s.setStateToKbnUrl)("_g",d({time:e.timeRange,filters:null==t?void 0:t.filter((e=>h(e))),refreshInterval:e.refreshInterval}),{useHash:u},g),e.searchSessionId&&(g=`${g}&${o.b.SEARCH_SESSION_ID}=${e.searchSessionId}`),{app:o.b.DASHBOARDS_ID,path:g,state:l(d(b))}})),this.deps=e}}},function(e,t,a){a.r(t);var n=__kbnBundles__.get("entry/core/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return d}));var n=a(8),r=a.n(n),i=a(3),s=a(13);function o({width:e,height:t,currentPanels:a}){let n=-1;const r=Object.values(a);if(r.forEach((e=>{n=Math.max(e.gridData.y+e.gridData.h,n)})),n<0)return{newPanelPlacement:{x:0,y:0,w:e,h:t},otherPanels:a};const i=new Array(n);for(let e=0;e<n;e++)i[e]=new Array(s.b).fill(0);r.forEach((e=>{for(let t=e.gridData.x;t<e.gridData.x+e.gridData.w;t++)for(let a=e.gridData.y;a<e.gridData.y+e.gridData.h;a++){if(void 0===i[a])throw new Error(`Attempted to access a row that doesn't exist at ${a} for panel ${JSON.stringify(e)}`);i[a][t]=1}}));for(let r=0;r<n;r++)for(let o=0;o<s.b;o++)if(1!==i[r][o])for(let l=r;l<Math.min(r+t,n);l++)for(let d=o;d<Math.min(o+e,s.b);d++){const s=0===i[l][d],c=d===o+e-1,u=l===Math.min(r+t-1,n-1);if(s&&c&&u)return{newPanelPlacement:{x:o,y:r,w:e,h:t},otherPanels:a};if(1===i[l][d])break}return{newPanelPlacement:{x:0,y:n,w:e,h:t},otherPanels:a}}function l(e,t){return e.y+e.h<t.y+t.h?-1:e.y+e.h>t.y+t.h?1:e.x+e.w<=t.x+t.w?-1:1}function d({width:e,height:t,currentPanels:a,placeBesideId:n}){const o=a[n];if(!o)throw new i.PanelNotFoundError;const d=o.gridData,c=[];r.a.forOwn(a,((e,t)=>{c.push(e.gridData)}));const u=[{grid:{x:d.x+d.w,y:d.y,w:e,h:t},fits:!0},{grid:{x:0,y:d.y+d.h,w:e,h:t},fits:!0},{grid:{x:d.x,y:d.y+d.h,w:e,h:t},fits:!0}];for(const e of u)if(e.grid.x>=0&&e.grid.x+e.grid.w<=s.b&&e.grid.y>=0){if(!c.some((t=>e.grid.x+e.grid.w>t.x&&e.grid.x<t.x+t.w&&e.grid.y<t.y+t.h&&e.grid.y+e.grid.h>t.y)))return{newPanelPlacement:e.grid,otherPanels:a}}else e.fits=!1;const p={...a},b=c.sort(l);let h=0;for(;h<b.length&&d.i!==b[h].i;h++);const g=u[2];let f=b[h+1].i;const m=g.grid.y+g.grid.h-p[f].gridData.y;for(let e=h+1;e<b.length;e++){f=b[e].i;const t=r.a.cloneDeep(p[f]);t.gridData.y=t.gridData.y+m,p[f]=t}return{newPanelPlacement:g.grid,otherPanels:p}}},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t){e.exports=__kbnSharedDeps__.RxjsOperators},function(e,t,a){a.r(t);var n=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return i}));var n=a(8);function r(e){return{type:e.type,gridData:e.gridData,panelRefName:e.panelRefName,explicitInput:{id:e.panelIndex,...void 0!==e.id&&{savedObjectId:e.id},...void 0!==e.title&&{title:e.title},...e.embeddableConfig}}}function i(e,t){const a=e.explicitInput.savedObjectId;return{version:t,type:e.type,gridData:e.gridData,panelIndex:e.explicitInput.id,embeddableConfig:Object(n.omit)(e.explicitInput,["id","savedObjectId","title"]),...void 0!==e.explicitInput.title&&{title:e.explicitInput.title},...void 0!==a&&{id:a},...void 0!==e.panelRefName&&{panelRefName:e.panelRefName}}}},function(e,t,a){var n=a(47),r=a(48),i=r;i.v1=n,i.v4=r,e.exports=i},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t){e.exports=__kbnSharedDeps__.Classnames},function(e,t,a){(function(t){const a="object"==typeof t&&Object({IS_KIBANA_DISTRIBUTABLE:"true"})&&Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG&&/\bsemver\b/i.test(Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=a}).call(this,a(49))},function(e,t,a){a.r(t);var n=__kbnBundles__.get("plugin/savedObjects/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return p}));var n=a(0),r=a.n(n),i=a(17),s=a(38),o=a(3),l=a(15),d=a(4);const c="unsavedDashboard",u="dashboardStateManagerPanels";class DashboardSessionStorageService{constructor(e){r()(this,"activeSpaceId",void 0),r()(this,"sessionStorage",void 0),r()(this,"notifications",void 0),r()(this,"spaces",void 0),({notifications:this.notifications,spaces:this.spaces}=e),this.sessionStorage=new l.Storage(sessionStorage),this.activeSpaceId="default",this.spaces.getActiveSpace$&&Object(i.firstValueFrom)(this.spaces.getActiveSpace$()).then((e=>{this.activeSpaceId=e.id}))}clearState(e=c){try{const t=this.sessionStorage.get(u),a=(null==t?void 0:t[this.activeSpaceId])||{};a[e]&&(delete a[e],this.sessionStorage.set(u,t))}catch(e){this.notifications.toasts.addDanger({title:d.A.getPanelsClearError(e.message),"data-test-subj":"dashboardPanelsClearFailure"})}}getState(e=c){try{var t,a;return null===(t=this.sessionStorage.get(u))||void 0===t||null===(a=t[this.activeSpaceId])||void 0===a?void 0:a[e]}catch(e){this.notifications.toasts.addDanger({title:d.A.getPanelsGetError(e.message),"data-test-subj":"dashboardPanelsGetFailure"})}}setState(e=c,t){try{const a=this.sessionStorage.get(u)||{};Object(s.set)(a,[this.activeSpaceId,e],t),this.sessionStorage.set(u,a)}catch(e){this.notifications.toasts.addDanger({title:d.A.getPanelsSetError(e.message),"data-test-subj":"dashboardPanelsSetFailure"})}}getDashboardIdsWithUnsavedChanges(){try{var e;const t=(null===(e=this.sessionStorage.get(u))||void 0===e?void 0:e[this.activeSpaceId])||{},a=[];return Object.keys(t).map((e=>{t[e].viewMode===o.ViewMode.EDIT&&Object.keys(t[e]).some((e=>"viewMode"!==e))&&a.push(e)})),a}catch(e){return this.notifications.toasts.addDanger({title:d.A.getPanelsGetError(e.message),"data-test-subj":"dashboardPanelsGetFailure"}),[]}}dashboardHasUnsavedEdits(e=c){return-1!==this.getDashboardIdsWithUnsavedChanges().indexOf(e)}}const p=(e,t)=>new DashboardSessionStorageService(t)},function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(14),r=a(20);function i(e,t,a,i){const s={width:n.e,height:n.d,currentPanels:t},o=i?{...s,...i}:s,{newPanelPlacement:l,otherPanels:d}=a?a(o):Object(r.a)(s);return{newPanel:{gridData:{...l,i:e.explicitInput.id},...e},otherPanels:d}}},function(e,t,a){a.r(t);var n=__kbnBundles__.get("plugin/controls/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){var a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(a){var n=new Uint8Array(16);e.exports=function(){return a(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},function(e,t){for(var a=[],n=0;n<256;++n)a[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,r=a;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")}},function(e,t,a){const n=a(40);e.exports=(e,t,a)=>n(e,t,a)>0},function(e,t){const a=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:a,MAX_SAFE_COMPONENT_LENGTH:16}},function(e,t,a){"use strict";a.d(t,"a",(function(){return h})),a.d(t,"b",(function(){return placeholder_embeddable_factory_PlaceholderEmbeddableFactory}));var n=a(0),r=a.n(n),i=(a(11),a(21)),s=a.n(i),o=a(27),l=a.n(o),d=a(5),c=a(12),u=a(3),p=a(9),b=a(2);const h="placeholder";class placeholder_embeddable_PlaceholderEmbeddable extends u.Embeddable{constructor(e,t){super(e,{},t),r()(this,"type",h),r()(this,"node",void 0),this.input=e}render(e){this.node&&s.a.unmountComponentAtNode(this.node),this.node=e;const{settings:{theme:{theme$:t}}}=p.pluginServices.getServices(),a=l()("embPanel","embPanel-isLoading");s.a.render(Object(b.jsx)(c.KibanaThemeProvider,{theme$:t},Object(b.jsx)("div",{className:a},Object(b.jsx)(d.EuiLoadingChart,{size:"l",mono:!0}))),e)}reload(){}}var g=a(1);class placeholder_embeddable_factory_PlaceholderEmbeddableFactory{constructor(){r()(this,"type",h)}async isEditable(){return!1}canCreateNew(){return!1}async create(e,t){return new placeholder_embeddable_PlaceholderEmbeddable(e,t)}getDisplayName(){return g.i18n.translate("dashboard.placeholder.factory.displayName",{defaultMessage:"placeholder"})}}},function(e,t){e.exports=__kbnSharedDeps__.SaferLodashSet},function(e,t,a){a.r(t);var n=__kbnBundles__.get("plugin/share/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,a){const n=a(42);e.exports=(e,t,a)=>new n(e,a).compare(new n(t,a))},function(e,t,a){"use strict";a.r(t),a.d(t,"DashboardContainer",(function(){})),a.d(t,"DashboardContainerFactoryDefinition",(function(){return u.c})),a.d(t,"DASHBOARD_CONTAINER_TYPE",(function(){return u.a})),a.d(t,"DashboardConstants",(function(){return Q.b})),a.d(t,"createDashboardEditUrl",(function(){return Q.d})),a.d(t,"cleanEmptyKeys",(function(){return H.c})),a.d(t,"plugin",(function(){return te}));var n=a(0),r=a.n(n),i=a(17),s=a(22),o=a(19),l=a(3),d=a(15),c=a(29),u=a(13),p=a(6),b=a(4);const h="togglePanel";function g(e){return e.type===u.a}function f(e){if(!e.parent||!g(e.parent))throw new p.IncompatibleActionError;return e.id===e.parent.getInput().expandedPanelId}class expand_panel_action_ExpandPanelAction{constructor(){r()(this,"type",h),r()(this,"id",h),r()(this,"order",7)}getDisplayName({embeddable:e}){if(!e.parent||!g(e.parent))throw new p.IncompatibleActionError;return f(e)?b.e.getMinimizeTitle():b.e.getMaximizeTitle()}getIconType({embeddable:e}){if(!e.parent||!g(e.parent))throw new p.IncompatibleActionError;return f(e),"expand"}async isCompatible({embeddable:e}){return Boolean(e.parent&&g(e.parent))}async execute({embeddable:e}){if(!e.parent||!g(e.parent))throw new p.IncompatibleActionError;const t=f(e)?void 0:e.id;e.parent.updateInput({expandedPanelId:t})}}var m=a(11),v=a.n(m),E=a(12),y=a(5),S=a(9),O=a(2);class replace_panel_flyout_ReplacePanelFlyout extends v.a.Component{constructor(e){super(e),r()(this,"lastToast",{id:"panelReplaceToast"}),r()(this,"showToast",(e=>{const{notifications:{toasts:t}}=S.pluginServices.getServices();this.lastToast&&t.remove(this.lastToast),this.lastToast=t.addSuccess({title:b.m.getSuccessMessage(e),"data-test-subj":"addObjectToContainerSuccess"})})),r()(this,"onReplacePanel",(async(e,t,a)=>{const{panelToRemove:n,container:r}=this.props,{w:i,h:s,x:o,y:l}=r.getInput().panels[n.id].gridData,{id:d}=await r.addNewEmbeddable(t,{savedObjectId:e}),{[n.id]:c,...u}=r.getInput().panels;r.updateInput({panels:{...u,[d]:{...u[d],gridData:{...u[d].gridData,w:i,h:s,x:o,y:l}}}}),r.reload(),this.showToast(a),this.props.onClose()}))}render(){const{embeddable:{getEmbeddableFactories:e}}=S.pluginServices.getServices(),t=this.props.savedObjectsFinder,a=Object(O.jsx)(t,{noItemsMessage:b.m.getNoMatchingObjectsMessage(),savedObjectMetaData:[...e()].filter((e=>Boolean(e.savedObjectMetaData)&&!e.isContainerType)).map((({savedObjectMetaData:e})=>e)),showFilter:!0,onChoose:this.onReplacePanel}),n="Replace panel "+this.props.panelToRemove.getTitle()+" with:";return Object(O.jsx)(v.a.Fragment,null,Object(O.jsx)(y.EuiFlyoutHeader,{hasBorder:!0},Object(O.jsx)(y.EuiTitle,{size:"m"},Object(O.jsx)("h2",null,Object(O.jsx)("span",null,n)))),Object(O.jsx)(y.EuiFlyoutBody,null,a))}}const I="replacePanel";function _(e){return e.type===u.a}class replace_panel_action_ReplacePanelAction{constructor(e){r()(this,"type",I),r()(this,"id",I),r()(this,"order",3),this.savedobjectfinder=e}getDisplayName({embeddable:e}){if(!e.parent||!_(e.parent))throw new p.IncompatibleActionError;return b.m.getDisplayName()}getIconType({embeddable:e}){if(!e.parent||!_(e.parent))throw new p.IncompatibleActionError;return"kqlOperand"}async isCompatible({embeddable:e}){return(!e.getInput().viewMode||e.getInput().viewMode!==l.ViewMode.VIEW)&&Boolean(e.parent&&_(e.parent))}async execute({embeddable:e}){if(!e.parent||!_(e.parent))throw new p.IncompatibleActionError;const t=e;!async function(e){const{embeddable:t,panelToRemove:a,savedObjectFinder:n}=e,{settings:{theme:{theme$:r}},overlays:{openFlyout:i}}=S.pluginServices.getServices(),s=i(Object(E.toMountPoint)(Object(O.jsx)(replace_panel_flyout_ReplacePanelFlyout,{container:t,onClose:()=>{s&&s.close()},panelToRemove:a,savedObjectsFinder:n}),{theme$:r}),{"data-test-subj":"dashboardReplacePanel",ownFocus:!0})}({embeddable:e.parent,savedObjectFinder:this.savedobjectfinder,panelToRemove:t})}}var T=a(8),w=a.n(T),D=a(25),P=a.n(D),N=a(20);const A="clonePanel";class clone_panel_action_ClonePanelAction{constructor(e){r()(this,"type",A),r()(this,"id",A),r()(this,"order",45),r()(this,"toastsService",void 0),this.savedObjects=e,({notifications:{toasts:this.toastsService}}=S.pluginServices.getServices())}getDisplayName({embeddable:e}){if(!e.getRoot()||!e.getRoot().isContainer)throw new p.IncompatibleActionError;return b.c.getDisplayName()}getIconType({embeddable:e}){if(!e.getRoot()||!e.getRoot().isContainer)throw new p.IncompatibleActionError;return"copy"}async isCompatible({embeddable:e}){var t;return Boolean(!Object(l.isErrorEmbeddable)(e)&&(null===(t=e.getInput())||void 0===t?void 0:t.viewMode)!==l.ViewMode.VIEW&&e.getRoot()&&e.getRoot().isContainer&&e.getRoot().type===u.a&&e.getOutput().editable)}async execute({embeddable:e}){if(!e.getRoot()||!e.getRoot().isContainer)throw new p.IncompatibleActionError;const t=e.getRoot(),a=t.getInput().panels[e.id];if(!a)throw new l.PanelNotFoundError;t.showPlaceholderUntil(this.cloneEmbeddable(a,e),N.b,{width:a.gridData.w,height:a.gridData.h,currentPanels:t.getInput().panels,placeBesideId:a.explicitInput.id})}async getCloneTitle(e,t){if(""===t)return"";const a=b.c.getClonedTag(),n=new RegExp(`\\(${a}\\)`,"g"),r=new RegExp(`\\(${a} [0-9]+\\)`,"g"),i=t.replace(r,"").replace(n,"").trim();let s;if(Object(l.isReferenceOrValueEmbeddable)(e)||!w.a.has(e.getExplicitInput(),"savedObjectId")){const t=e.getRoot();s=w.a.filter(await t.getPanelTitles(),(e=>e.startsWith(i)))}else{const t=10,n=await this.savedObjects.client.find({type:e.type,perPage:t,fields:["title"],searchFields:["title"],search:`"${i}"`});s=n.total<=t?n.savedObjects.map((e=>e.get("title"))):[i+` (${a} ${n.total-1})`]}const o=w.a.map(s,(e=>{if(e.match(n))return 0;const t=e.match(r);return t?parseInt(t[0].replace(/[^0-9.]/g,""),10):-1})),d=w.a.max(o)||0;return d<0?i+` (${a})`:i+` (${a} ${d+1})`}async addCloneToLibrary(e,t){const a=await this.savedObjects.client.get(e.type,t),n=await this.getCloneTitle(e,a.attributes.title);return(await this.savedObjects.client.create(e.type,{...w.a.cloneDeep(a.attributes),title:n},{references:w.a.cloneDeep(a.references)})).id}async cloneEmbeddable(e,t){let a;if(Object(l.isReferenceOrValueEmbeddable)(t)){const n=await this.getCloneTitle(t,t.getTitle()||"");a={type:t.type,explicitInput:{...await t.getInputAsValueType(),id:P.a.v4(),title:n,hidePanelTitles:e.explicitInput.hidePanelTitles}}}else if(a={type:t.type,explicitInput:{...e.explicitInput,id:P.a.v4()}},e.explicitInput.savedObjectId){const n=await this.addCloneToLibrary(t,e.explicitInput.savedObjectId);a.explicitInput.savedObjectId=n}return this.toastsService.addSuccess({title:b.c.getSuccessMessage(),"data-test-subj":"addObjectToContainerSuccess"}),a}}const j="saveToLibrary";class add_to_library_action_AddToLibraryAction{constructor(){r()(this,"type",j),r()(this,"id",j),r()(this,"order",15),r()(this,"applicationCapabilities",void 0),r()(this,"toastsService",void 0),({application:{capabilities:this.applicationCapabilities},notifications:{toasts:this.toastsService}}=S.pluginServices.getServices())}getDisplayName({embeddable:e}){if(!e.getRoot()||!e.getRoot().isContainer)throw new p.IncompatibleActionError;return b.b.getDisplayName()}getIconType({embeddable:e}){if(!e.getRoot()||!e.getRoot().isContainer)throw new p.IncompatibleActionError;return"folderCheck"}async isCompatible({embeddable:e}){var t;const{maps:a,visualize:n}=this.applicationCapabilities,r="map"===e.type?a.save:n.save;return Boolean(r&&!Object(l.isErrorEmbeddable)(e)&&(null===(t=e.getInput())||void 0===t?void 0:t.viewMode)!==l.ViewMode.VIEW&&e.getRoot()&&e.getRoot().isContainer&&e.getRoot().type===u.a&&Object(l.isReferenceOrValueEmbeddable)(e)&&!e.inputIsRefType(e.getInput()))}async execute({embeddable:e}){if(!Object(l.isReferenceOrValueEmbeddable)(e))throw new p.IncompatibleActionError;const t=await e.getInputAsRefType();e.updateInput(t);const a=e.getRoot(),n=a.getInput().panels[e.id];if(!n)throw new l.PanelNotFoundError;const r={type:e.type,explicitInput:{...t}};a.replacePanel(n,r,!0);const i=b.b.getSuccessMessage(e.getTitle()?`'${e.getTitle()}'`:"");this.toastsService.addSuccess({title:i,"data-test-subj":"addPanelToLibrarySuccess"})}}const R="unlinkFromLibrary";class unlink_from_library_action_UnlinkFromLibraryAction{constructor(){r()(this,"type",R),r()(this,"id",R),r()(this,"order",15),r()(this,"toastsService",void 0),({notifications:{toasts:this.toastsService}}=S.pluginServices.getServices())}getDisplayName({embeddable:e}){if(!e.getRoot()||!e.getRoot().isContainer)throw new p.IncompatibleActionError;return b.o.getDisplayName()}getIconType({embeddable:e}){if(!e.getRoot()||!e.getRoot().isContainer)throw new p.IncompatibleActionError;return"folderExclamation"}async isCompatible({embeddable:e}){var t;return Boolean(!Object(l.isErrorEmbeddable)(e)&&(null===(t=e.getInput())||void 0===t?void 0:t.viewMode)!==l.ViewMode.VIEW&&e.getRoot()&&e.getRoot().isContainer&&e.getRoot().type===u.a&&Object(l.isReferenceOrValueEmbeddable)(e)&&e.inputIsRefType(e.getInput()))}async execute({embeddable:e}){if(!Object(l.isReferenceOrValueEmbeddable)(e))throw new p.IncompatibleActionError;const t=await e.getInputAsValueType();e.updateInput(t);const a=e.getRoot(),n=a.getInput().panels[e.id];if(!n)throw new l.PanelNotFoundError;const r={type:e.type,explicitInput:{...t,title:e.getTitle()}};a.replacePanel(n,r,!0);const i=b.o.getSuccessMessage(e.getTitle()?`'${e.getTitle()}'`:"");this.toastsService.addSuccess({title:i,"data-test-subj":"unlinkPanelSuccess"})}}var C=a(7);const x=Object(C.withSuspense)(C.LazyDashboardPicker);function M({PresentationUtilContext:e,dashboardId:t,embeddable:a,closeModal:n}){const{embeddable:{getStateTransfer:r},dashboardCapabilities:{createNew:i,showWriteControls:s}}=S.pluginServices.getServices(),o=r(),[d,c]=Object(m.useState)("existing"),[u,p]=Object(m.useState)(null),h=Object(m.useCallback)((()=>{const e=a.getRoot().getInput().panels[a.id];if(!e)throw new l.PanelNotFoundError;const t={type:a.type,input:{...Object(T.omit)(e.explicitInput,"id")}},r="existing"===d&&u?`#${Object(Q.d)(u.id,!0)}`:`#${Q.b.CREATE_NEW_DASHBOARD_URL}`;n(),o.navigateToWithEmbeddablePackage("dashboards",{state:t,path:r})}),[d,a,u,o,n]),g="copyToDashboardTitle",f="copyToDashboardDescription";return Object(O.jsx)(y.EuiFocusTrap,{clickOutsideDisables:!0},Object(O.jsx)(y.EuiOutsideClickDetector,{onOutsideClick:n},Object(O.jsx)("div",{role:"dialog","aria-modal":"true","aria-labelledby":g,"aria-describedby":f},Object(O.jsx)(e,null,Object(O.jsx)(y.EuiModalHeader,null,Object(O.jsx)(y.EuiModalHeaderTitle,null,Object(O.jsx)("h2",{id:g},b.d.getDisplayName()))),Object(O.jsx)(y.EuiModalBody,null,Object(O.jsx)(v.a.Fragment,null,Object(O.jsx)(y.EuiText,null,Object(O.jsx)("p",{id:f},b.d.getDescription())),Object(O.jsx)(y.EuiSpacer,null),Object(O.jsx)(y.EuiFormRow,{hasChildLabel:!1},Object(O.jsx)(y.EuiPanel,{color:"subdued",hasShadow:!1,"data-test-subj":"add-to-dashboard-options"},Object(O.jsx)("div",null,s&&Object(O.jsx)(v.a.Fragment,null,Object(O.jsx)(y.EuiRadio,{checked:"existing"===d,"data-test-subj":"add-to-existing-dashboard-option",id:"existing-dashboard-option",name:"dashboard-option",label:b.d.getExistingDashboardOption(),onChange:()=>c("existing")}),Object(O.jsx)("div",{className:"savAddDashboard__searchDashboards"},Object(O.jsx)(x,{isDisabled:"existing"!==d,idsToOmit:t?[t]:void 0,onChange:e=>p(e)})),Object(O.jsx)(y.EuiSpacer,{size:"s"})),i&&Object(O.jsx)(v.a.Fragment,null,Object(O.jsx)(y.EuiRadio,{checked:"new"===d,"data-test-subj":"add-to-new-dashboard-option",id:"new-dashboard-option",name:"dashboard-option",disabled:!t,label:b.d.getNewDashboardOption(),onChange:()=>c("new")}),Object(O.jsx)(y.EuiSpacer,{size:"s"}))))))),Object(O.jsx)(y.EuiModalFooter,null,Object(O.jsx)(y.EuiButtonEmpty,{"data-test-subj":"cancelCopyToButton",onClick:()=>n()},b.d.getCancelButtonName()),Object(O.jsx)(y.EuiButton,{fill:!0,"data-test-subj":"confirmCopyToButton",onClick:h,disabled:"existing"===d&&!u},b.d.getAcceptButtonName()))))))}const L="copyToDashboard";function $(e){return e.type===u.a}class copy_to_dashboard_action_CopyToDashboardAction{constructor(e){r()(this,"type",L),r()(this,"id",L),r()(this,"order",1),r()(this,"dashboardCapabilities",void 0),r()(this,"theme$",void 0),r()(this,"openModal",void 0),this.PresentationUtilContext=e,({dashboardCapabilities:this.dashboardCapabilities,overlays:{openModal:this.openModal},settings:{theme:{theme$:this.theme$}}}=S.pluginServices.getServices())}getDisplayName({embeddable:e}){if(!e.parent||!$(e.parent))throw new p.IncompatibleActionError;return b.d.getDisplayName()}getIconType({embeddable:e}){if(!e.parent||!$(e.parent))throw new p.IncompatibleActionError;return"exit"}async isCompatible({embeddable:e}){const{createNew:t,showWriteControls:a}=this.dashboardCapabilities;return Boolean(e.parent&&$(e.parent)&&(t||a))}async execute({embeddable:e}){if(!e.parent||!$(e.parent))throw new p.IncompatibleActionError;const t=this.openModal(Object(E.toMountPoint)(Object(O.jsx)(M,{PresentationUtilContext:this.PresentationUtilContext,closeModal:()=>t.close(),dashboardId:e.parent.getInput().id,embeddable:e}),{theme$:this.theme$}),{maxWidth:400,"data-test-subj":"copyToDashboardPanel"})}}function F({unlinkAction:e,displayName:t,context:a,icon:n,id:r}){const[i,s]=Object(m.useState)(!1),{embeddable:o}=a;return Object(O.jsx)(y.EuiPopover,{button:Object(O.jsx)(y.EuiButtonIcon,{color:"text",iconType:n,onClick:()=>s(!i),"data-test-subj":`embeddablePanelNotification-${r}`,"aria-label":b.i.getPopoverAriaLabel()}),isOpen:i,closePopover:()=>s(!1),anchorPosition:"upCenter"},Object(O.jsx)(y.EuiPopoverTitle,null,t),Object(O.jsx)("div",{style:{width:"300px"}},Object(O.jsx)(y.EuiText,null,Object(O.jsx)("p",null,b.i.getTooltip()))),Object(O.jsx)(y.EuiPopoverFooter,null,Object(O.jsx)(y.EuiFlexGroup,{gutterSize:"s",alignItems:"center",justifyContent:"flexEnd",responsive:!1,wrap:!0},Object(O.jsx)(y.EuiFlexItem,{grow:!1},Object(O.jsx)(y.EuiButton,{"data-test-subj":"libraryNotificationUnlinkButton",size:"s",fill:!0,onClick:()=>e.execute({embeddable:o})},e.getDisplayName({embeddable:o}))))))}const k="ACTION_LIBRARY_NOTIFICATION";class library_notification_action_LibraryNotificationAction{constructor(e){r()(this,"id",k),r()(this,"type",k),r()(this,"order",1),r()(this,"theme$",void 0),r()(this,"displayName",b.i.getDisplayName()),r()(this,"icon","folderCheck"),r()(this,"LibraryNotification",(({context:e})=>{const{embeddable:t}=e;return Object(O.jsx)(E.KibanaThemeProvider,{theme$:this.theme$},Object(O.jsx)(F,{unlinkAction:this.unlinkAction,displayName:this.displayName,context:e,icon:this.getIconType({embeddable:t}),id:this.id}))})),r()(this,"MenuItem",Object(E.reactToUiComponent)(this.LibraryNotification)),r()(this,"isCompatible",(async({embeddable:e})=>{var t;return!Object(l.isErrorEmbeddable)(e)&&e.getRoot().isContainer&&(null===(t=e.getInput())||void 0===t?void 0:t.viewMode)!==l.ViewMode.VIEW&&Object(l.isReferenceOrValueEmbeddable)(e)&&e.inputIsRefType(e.getInput())})),r()(this,"execute",(async()=>{})),this.unlinkAction=e,({settings:{theme:{theme$:this.theme$}}}=S.pluginServices.getServices())}getDisplayName({embeddable:e}){if(!e.getRoot()||!e.getRoot().isContainer)throw new p.IncompatibleActionError;return this.displayName}getIconType({embeddable:e}){if(!e.getRoot()||!e.getRoot().isContainer)throw new p.IncompatibleActionError;return this.icon}}const B="ACTION_FILTERS_NOTIFICATION";class filters_notification_badge_FiltersNotificationBadge{constructor(){r()(this,"id",B),r()(this,"type",B),r()(this,"order",2),r()(this,"displayName",b.h.getDisplayName()),r()(this,"icon","filter"),r()(this,"applicationService",void 0),r()(this,"embeddableService",void 0),r()(this,"settingsService",void 0),r()(this,"openModal",void 0),r()(this,"isCompatible",(async({embeddable:e})=>{if(Object(l.isErrorEmbeddable)(e)||!e.getRoot().isContainer||!Object(l.isFilterableEmbeddable)(e))return!1;if((await e.getFilters()).length>0)return!0;const{isOfQueryType:t,isOfAggregateQueryType:n}=await a.e(0).then(a.bind(null,52)),r=await e.getQuery();return t(r)&&""!==r.query||n(r)})),r()(this,"execute",(async e=>{const{embeddable:t}=e;if(!await this.isCompatible({embeddable:t})||!Object(l.isFilterableEmbeddable)(t))throw new p.IncompatibleActionError;const{uiSettings:n,theme:{theme$:r}}=this.settingsService,{getEmbeddableFactory:i,getStateTransfer:s}=this.embeddableService,{Provider:o}=Object(E.createKibanaReactContext)({uiSettings:n}),d=new l.EditPanelAction(i,this.applicationService,s()),c=await Promise.all([a.e(0),a.e(5)]).then(a.bind(null,245)).then((e=>e.FiltersNotificationModal)),u=this.openModal(Object(E.toMountPoint)(Object(O.jsx)(o,null,Object(O.jsx)(c,{context:e,displayName:this.displayName,id:this.id,editPanelAction:d,onClose:()=>u.close()})),{theme$:r}),{"data-test-subj":"filtersNotificationModal"})})),({application:this.applicationService,embeddable:this.embeddableService,overlays:{openModal:this.openModal},settings:this.settingsService}=S.pluginServices.getServices())}getDisplayName({embeddable:e}){if(!e.getRoot()||!e.getRoot().isContainer)throw new p.IncompatibleActionError;return this.displayName}getIconType({embeddable:e}){if(!e.getRoot()||!e.getRoot().isContainer)throw new p.IncompatibleActionError;return this.icon}}var U=a(23),G=a(39);const V="ACTION_EXPORT_CSV";class export_csv_action_ExportCSVAction{constructor(){r()(this,"id",V),r()(this,"type",V),r()(this,"order",5),r()(this,"fieldFormats",void 0),r()(this,"uiSettings",void 0),r()(this,"getDisplayName",(e=>b.f.getDisplayName())),r()(this,"hasDatatableContent",(e=>Object.keys((null==e?void 0:e.tables)||{}).length>0&&e.tables.allowCsvExport)),r()(this,"getFormatter",(()=>{if(this.fieldFormats)return this.fieldFormats.deserialize})),r()(this,"getDataTableContent",(e=>{if(this.hasDatatableContent(e))return null==e?void 0:e.tables.tables})),r()(this,"exportCSV",(async e=>{var t;const a=this.getFormatter();if(!a)return;const n=this.getDataTableContent(null==e||null===(t=e.embeddable)||void 0===t?void 0:t.getInspectorAdapters());if(n){const t=Object.values(n),r=t.reduce(((n,r,i)=>{if(r){const s=t.length>1?`-${i+1}`:"",o=b.f.getUntitledFilename();n[`${e.embeddable.getTitle()||o}${s}.csv`]={content:U.exporters.datatableToCSV(r,{csvSeparator:this.uiSettings.get("csv:separator",","),quoteValues:this.uiSettings.get("csv:quoteValues",!0),formatFactory:a,escapeFormulaValues:!1}),type:U.exporters.CSV_MIME_TYPE}}return n}),{});if(e.asString)return r;if(r)return Object(G.downloadMultipleAs)(r)}})),({data:{fieldFormats:this.fieldFormats},settings:{uiSettings:this.uiSettings}}=S.pluginServices.getServices())}getIconType(){return"exportAction"}async isCompatible(e){var t,a;return!!this.hasDatatableContent(null===(t=e.embeddable)||void 0===t||null===(a=t.getInspectorAdapters)||void 0===a?void 0:a.call(t))}async execute(e){return await this.exportCSV(e)}}var H=a(18),z=a(35),X=a.n(z),J=a(24);const W=e=>!("version"in e)||X()("7.3.0",e.version);function K(e){let t,a=[];if("string"==typeof e.panelsJSON&&(a=JSON.parse(e.panelsJSON)),e.controlGroupInput){const a=e.controlGroupInput;if(a.panelsJSON&&"string"==typeof a.panelsJSON){const e=JSON.parse(a.panelsJSON);e&&"object"==typeof e&&(t={...a,panels:e})}}return{panels:a,state:{id:e.id,controlGroupInput:t,type:"dashboard",panels:a.reduce(((e,t,a)=>(e[t.panelIndex||`${a}`]=Object(J.b)(t),e)),{})}}}function q(e,t){return Object.entries(e).map((([e,a])=>{var n;let r=t.find((t=>t.panelIndex===e));if(!r){const a=parseInt(e,10);r=isNaN(a)?r:t[a]}return Object(J.a)(a,null!==(n=r)&&void 0!==n&&n.version?r.version:"")}))}var Q=a(10);const Y={title:"",hits:0,description:"",panelsJSON:"[]",optionsJSON:JSON.stringify({useMargins:!0,syncColors:!1,syncTooltips:!1,hidePanelTitles:!1}),version:1,timeRestore:!1,timeTo:void 0,timeFrom:void 0,refreshInterval:void 0};function Z(e,t,a){class SavedDashboard extends e.SavedObjectClass{constructor(e){super({type:SavedDashboard.type,mapping:SavedDashboard.mapping,searchSource:SavedDashboard.searchSource,extractReferences:e=>function({attributes:e,references:t=[]},a){if("string"!=typeof e.panelsJSON)return{attributes:e,references:t};const{panels:n,state:r}=K(e);if(!Array.isArray(n))return{attributes:e,references:t};if(n.some(W))return function({attributes:e,references:t=[]},a){if("string"!=typeof e.panelsJSON)return{attributes:e,references:t};const n=[],r=JSON.parse(String(e.panelsJSON));return r.forEach(((e,t)=>{if(!e.type)throw new Error(`"type" attribute is missing from panel "${t}"`);e.id&&(e.panelRefName=`panel_${t}`,n.push({name:`panel_${t}`,type:e.type,id:e.id}),delete e.type,delete e.id)})),{references:[...t,...n],attributes:{...e,panelsJSON:JSON.stringify(r)}}}({attributes:e,references:t});const i=n.findIndex((e=>void 0===e.type));if(i>=0)throw new Error(`"type" attribute is missing from panel "${i}"`);const{references:s,state:o}=a.embeddablePersistableStateService.extract(r),l=o,d=q(l.panels,n),c={...e,panelsJSON:JSON.stringify(d)};return l.controlGroupInput&&(c.controlGroupInput={...e.controlGroupInput,panelsJSON:JSON.stringify(l.controlGroupInput.panels)}),{references:[...t,...s],attributes:c}}(e,{embeddablePersistableStateService:t}),injectReferences:(e,a)=>{const n=function({attributes:e,references:t=[]},a){if("string"!=typeof e.panelsJSON)return e;const n=JSON.parse(e.panelsJSON);if(!Array.isArray(n))return e;const{panels:r,state:i}=K(e),s=a.embeddablePersistableStateService.inject(i,t),o=q(s.panels,r),l={...e,panelsJSON:JSON.stringify(o)};return s.controlGroupInput&&(l.controlGroupInput={...e.controlGroupInput,panelsJSON:JSON.stringify(s.controlGroupInput.panels)}),l}({attributes:e._serialize().attributes,references:a},{embeddablePersistableStateService:t});Object.assign(e,n)},id:"object"==typeof e?e.id:e,defaults:Y}),r()(this,"showInRecentlyAccessed",!0),r()(this,"outcome",void 0),r()(this,"aliasId",void 0),r()(this,"aliasPurpose",void 0),r()(this,"getFullEditPath",(e=>`/app/dashboards#${Object(Q.d)(this.id,e)}`));const n="object"==typeof e?e.id:e;"object"==typeof e&&e.useResolve,this.getFullPath=()=>`/app/dashboards#${Object(Q.d)(this.aliasId||this.id)}`,this.init=async()=>{const e=SavedDashboard.type;if(!e)throw new Error("You must define a type name to use SavedObject objects.");if(!n)return Object(T.assign)(this,Y),await this.hydrateIndexPattern(),this;const{outcome:t,alias_target_id:r,alias_purpose:i,saved_object:s}=await a.resolve(e,n),o={_id:s.id,_type:s.type,_source:Object(T.cloneDeep)(s.attributes),references:s.references,found:!!s._version};return this.outcome=t,this.aliasId=r,this.aliasPurpose=i,await this.applyESResp(o),this}}getQuery(){return this.searchSource.getOwnField("query")||{query:"",language:"kuery"}}getFilters(){return this.searchSource.getOwnField("filter")||[]}}return r()(SavedDashboard,"type","dashboard"),r()(SavedDashboard,"mapping",{title:"text",hits:"integer",description:"text",panelsJSON:"text",optionsJSON:"text",version:"integer",timeRestore:"boolean",timeTo:"keyword",timeFrom:"keyword",refreshInterval:{type:"object",properties:{display:{type:"keyword"},pause:{type:"boolean"},section:{type:"integer"},value:{type:"integer"}}},controlGroupInput:{type:"object",properties:{controlStyle:{type:"keyword"},panelsJSON:{type:"text"}}}}),r()(SavedDashboard,"fieldOrder",["title","description"]),r()(SavedDashboard,"searchSource",!0),SavedDashboard}class saved_object_loader_SavedObjectLoader{constructor(e,t){r()(this,"Class",void 0),r()(this,"type",void 0),r()(this,"lowercaseType",void 0),r()(this,"loaderProperties",void 0),this.savedObjectsClient=t,this.type=e.type,this.Class=e,this.lowercaseType=this.type.toLowerCase(),this.loaderProperties={name:`${this.lowercaseType}s`,noun:Object(T.upperFirst)(this.type),nouns:`${this.lowercaseType}s`}}async get(e){return new this.Class(e).init()}urlFor(e){return`#/${this.lowercaseType}/${encodeURIComponent(e)}`}async delete(e){const t=(Array.isArray(e)?e:[e]).map((e=>new this.Class(e).delete()));await Promise.all(t)}mapHitSource(e,t,a=[],n){return{...e,id:t,url:this.urlFor(t),references:a,updatedAt:n}}mapSavedObjectApiHits({attributes:e,id:t,references:a=[],updatedAt:n}){return this.mapHitSource(e,t,a,n)}findAll(e="",{size:t=100,fields:a,hasReference:n}){return this.savedObjectsClient.find({type:this.lowercaseType,search:e?`${e}*`:void 0,perPage:t,page:1,searchFields:["title^3","description"],defaultSearchOperator:"AND",fields:a,hasReference:n}).then((e=>({total:e.total,hits:e.savedObjects.map((e=>this.mapSavedObjectApiHits(e)))})))}find(e="",t=100){const a="number"==typeof t?{size:t}:t;return this.findAll(e,a).then((e=>({total:e.total,hits:e.hits.filter((e=>!e.error))})))}}var ee=a(37);class plugin_DashboardPlugin{constructor(e){r()(this,"appStateUpdater",new i.BehaviorSubject((()=>({})))),r()(this,"stopUrlTracking",void 0),r()(this,"currentHistory",void 0),r()(this,"dashboardFeatureFlagConfig",void 0),r()(this,"locator",void 0),this.initializerContext=e}async startDashboardKibanaServices(e,t,n){const{registry:r,pluginServices:i}=await Promise.resolve().then(a.bind(null,9));i.setRegistry(r.start({coreStart:e,startPlugins:t,initContext:n}))}setup(e,{share:t,embeddable:n,home:r,urlForwarding:i,data:l}){this.dashboardFeatureFlagConfig=this.initializerContext.config.get(),t&&(this.locator=t.url.locators.create(new H.b({useHashedUrl:e.uiSettings.get("state:storeInSessionStorage"),getDashboardFilterFields:async t=>{var a,n;const[,,r]=await e.getStartServices(),i=await r.getSavedDashboardLoader().get(t);return null!==(a=null==i||null===(n=i.searchSource)||void 0===n?void 0:n.getField("filter"))&&void 0!==a?a:[]}})));const{appMounted:c,appUnMounted:p,stop:h,restorePreviousUrl:g}=Object(d.createKbnUrlTracker)({baseUrl:e.http.basePath.prepend("/app/dashboards"),defaultSubUrl:`#${Q.b.LANDING_PAGE_PATH}`,storageKey:`lastUrl:${e.http.basePath.get()}:dashboard`,navLinkUpdater$:this.appStateUpdater,toastNotifications:e.notifications.toasts,stateParams:[{kbnUrlKey:"_g",stateUpdate$:l.query.state$.pipe(Object(s.filter)((({changes:e})=>!!(e.globalFilters||e.time||e.refreshInterval))),Object(s.map)((async({state:e})=>{var t;const{isFilterPinned:n}=await a.e(0).then(a.bind(null,52));return{...e,filters:null===(t=e.filters)||void 0===t?void 0:t.filter(n)}})))}],getHistory:()=>this.currentHistory,onBeforeNavLinkSaved:e=>(e.includes(Q.b.SEARCH_SESSION_ID)&&(e=Object(d.replaceUrlHashQuery)(e,(e=>(delete e[Q.b.SEARCH_SESSION_ID],e)))),e)});e.getStartServices().then((([,e])=>{const t=new u.c(e.embeddable);n.registerEmbeddableFactory(t.type,t);const a=new ee.b;n.registerEmbeddableFactory(a.type,a)})),this.stopUrlTracking=()=>{h()};const f={id:Q.b.DASHBOARDS_ID,title:"Dashboard",order:2500,euiIconType:"logoKibana",defaultPath:`#${Q.b.LANDING_PAGE_PATH}`,updater$:this.appStateUpdater,category:o.DEFAULT_APP_CATEGORIES.kibana,mount:async t=>{this.currentHistory=t.history,t.element.classList.add(o.APP_WRAPPER_CLASS);const{mountApp:n}=await Promise.all([a.e(0),a.e(2)]).then(a.bind(null,247));c();const r={restorePreviousUrl:g,scopedHistory:()=>this.currentHistory,onAppLeave:t.onAppLeave,setHeaderActionMenu:t.setHeaderActionMenu};return n({core:e,appUnMounted:p,element:t.element,mountContext:r})}};return e.application.register(f),i.forwardApp(Q.b.DASHBOARDS_ID,Q.b.DASHBOARDS_ID,(e=>{const[,t]=/(\?.*)/.exec(e)||[];return`#/list${t||""}`})),i.forwardApp(Q.b.DASHBOARD_ID,Q.b.DASHBOARDS_ID,(e=>{const[,t,a]=/dashboard\/?(.*?)($|\?.*)/.exec(e)||[];return t||a?!t&&a?`#/create${a||""}`:`#/view/${t}${a||""}`:"#/list"})),r&&r.featureCatalogue.register({id:Q.b.DASHBOARD_ID,title:b.g.getTitle(),subtitle:b.g.getSubtitle(),description:b.g.getDescription(),icon:"dashboardApp",path:`/app/dashboards#${Q.b.LANDING_PAGE_PATH}`,showOnHomePage:!1,category:"data",solutionId:"kibana",order:100}),{locator:this.locator}}start(e,t){const{uiSettings:a}=e,{uiActions:n,share:r,presentationUtil:i}=t;this.startDashboardKibanaServices(e,t,this.initializerContext).then((()=>{var t;const s=new clone_panel_action_ClonePanelAction(e.savedObjects);n.registerAction(s),n.attachAction(l.CONTEXT_MENU_TRIGGER,s.id);const o=Object(c.getSavedObjectFinder)(e.savedObjects,a),d=new replace_panel_action_ReplacePanelAction(o);n.registerAction(d),n.attachAction(l.CONTEXT_MENU_TRIGGER,d.id);const u=new filters_notification_badge_FiltersNotificationBadge;if(n.registerAction(u),n.attachAction(l.PANEL_BADGE_TRIGGER,u.id),r){const e=new export_csv_action_ExportCSVAction;n.addTriggerAction(l.CONTEXT_MENU_TRIGGER,e)}if(null!==(t=this.dashboardFeatureFlagConfig)&&void 0!==t&&t.allowByValueEmbeddables){const e=new add_to_library_action_AddToLibraryAction;n.registerAction(e),n.attachAction(l.CONTEXT_MENU_TRIGGER,e.id);const t=new unlink_from_library_action_UnlinkFromLibraryAction;n.registerAction(t),n.attachAction(l.CONTEXT_MENU_TRIGGER,t.id);const a=new library_notification_action_LibraryNotificationAction(t);n.registerAction(a),n.attachAction(l.PANEL_NOTIFICATION_TRIGGER,a.id);const r=new copy_to_dashboard_action_CopyToDashboardAction(i.ContextProvider);n.registerAction(r),n.attachAction(l.CONTEXT_MENU_TRIGGER,r.id)}}));const s=new expand_panel_action_ExpandPanelAction;n.registerAction(s),n.attachAction(l.CONTEXT_MENU_TRIGGER,s.id);const o=function({savedObjects:e,savedObjectsClient:t,embeddableStart:a}){const n=Z(e,a,t);return new saved_object_loader_SavedObjectLoader(n,t)}({savedObjectsClient:e.savedObjects.client,savedObjects:t.savedObjects,embeddableStart:t.embeddable});return{getSavedDashboardLoader:()=>o,getDashboardContainerByValueRenderer:()=>{const e=t.embeddable.getEmbeddableFactory(u.a);if(!e)throw new Error(`${u.a} Embeddable Factory not found`);return Object(u.d)({factory:e})},locator:this.locator,dashboardFeatureFlagConfig:this.dashboardFeatureFlagConfig}}stop(){this.stopUrlTracking&&this.stopUrlTracking()}}function te(e){return new plugin_DashboardPlugin(e)}},function(e,t,a){const n=a(28),{MAX_LENGTH:r,MAX_SAFE_INTEGER:i}=a(36),{re:s,t:o}=a(43),l=a(44),{compareIdentifiers:d}=a(50);class SemVer{constructor(e,t){if(t=l(t),e instanceof SemVer){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>r)throw new TypeError(`version is longer than ${r} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const a=e.trim().match(t.loose?s[o.LOOSE]:s[o.FULL]);if(!a)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+a[1],this.minor=+a[2],this.patch=+a[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");a[4]?this.prerelease=a[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=a[5]?a[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof SemVer)){if("string"==typeof e&&e===this.version)return 0;e=new SemVer(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof SemVer||(e=new SemVer(e,this.options)),d(this.major,e.major)||d(this.minor,e.minor)||d(this.patch,e.patch)}comparePre(e){if(e instanceof SemVer||(e=new SemVer(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const a=this.prerelease[t],r=e.prerelease[t];if(n("prerelease compare",t,a,r),void 0===a&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===a)return-1;if(a!==r)return d(a,r)}while(++t)}compareBuild(e){e instanceof SemVer||(e=new SemVer(e,this.options));let t=0;do{const a=this.build[t],r=e.build[t];if(n("prerelease compare",t,a,r),void 0===a&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===a)return-1;if(a!==r)return d(a,r)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(0===d(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=SemVer},function(e,t,a){const{MAX_SAFE_COMPONENT_LENGTH:n}=a(36),r=a(28),i=(t=e.exports={}).re=[],s=t.src=[],o=t.t={};let l=0;const d=(e,t,a)=>{const n=l++;r(e,n,t),o[e]=n,s[n]=t,i[n]=new RegExp(t,a?"g":void 0)};d("NUMERICIDENTIFIER","0|[1-9]\\d*"),d("NUMERICIDENTIFIERLOOSE","[0-9]+"),d("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),d("MAINVERSION",`(${s[o.NUMERICIDENTIFIER]})\\.(${s[o.NUMERICIDENTIFIER]})\\.(${s[o.NUMERICIDENTIFIER]})`),d("MAINVERSIONLOOSE",`(${s[o.NUMERICIDENTIFIERLOOSE]})\\.(${s[o.NUMERICIDENTIFIERLOOSE]})\\.(${s[o.NUMERICIDENTIFIERLOOSE]})`),d("PRERELEASEIDENTIFIER",`(?:${s[o.NUMERICIDENTIFIER]}|${s[o.NONNUMERICIDENTIFIER]})`),d("PRERELEASEIDENTIFIERLOOSE",`(?:${s[o.NUMERICIDENTIFIERLOOSE]}|${s[o.NONNUMERICIDENTIFIER]})`),d("PRERELEASE",`(?:-(${s[o.PRERELEASEIDENTIFIER]}(?:\\.${s[o.PRERELEASEIDENTIFIER]})*))`),d("PRERELEASELOOSE",`(?:-?(${s[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[o.PRERELEASEIDENTIFIERLOOSE]})*))`),d("BUILDIDENTIFIER","[0-9A-Za-z-]+"),d("BUILD",`(?:\\+(${s[o.BUILDIDENTIFIER]}(?:\\.${s[o.BUILDIDENTIFIER]})*))`),d("FULLPLAIN",`v?${s[o.MAINVERSION]}${s[o.PRERELEASE]}?${s[o.BUILD]}?`),d("FULL",`^${s[o.FULLPLAIN]}$`),d("LOOSEPLAIN",`[v=\\s]*${s[o.MAINVERSIONLOOSE]}${s[o.PRERELEASELOOSE]}?${s[o.BUILD]}?`),d("LOOSE",`^${s[o.LOOSEPLAIN]}$`),d("GTLT","((?:<|>)?=?)"),d("XRANGEIDENTIFIERLOOSE",`${s[o.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),d("XRANGEIDENTIFIER",`${s[o.NUMERICIDENTIFIER]}|x|X|\\*`),d("XRANGEPLAIN",`[v=\\s]*(${s[o.XRANGEIDENTIFIER]})(?:\\.(${s[o.XRANGEIDENTIFIER]})(?:\\.(${s[o.XRANGEIDENTIFIER]})(?:${s[o.PRERELEASE]})?${s[o.BUILD]}?)?)?`),d("XRANGEPLAINLOOSE",`[v=\\s]*(${s[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[o.XRANGEIDENTIFIERLOOSE]})(?:${s[o.PRERELEASELOOSE]})?${s[o.BUILD]}?)?)?`),d("XRANGE",`^${s[o.GTLT]}\\s*${s[o.XRANGEPLAIN]}$`),d("XRANGELOOSE",`^${s[o.GTLT]}\\s*${s[o.XRANGEPLAINLOOSE]}$`),d("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),d("COERCERTL",s[o.COERCE],!0),d("LONETILDE","(?:~>?)"),d("TILDETRIM",`(\\s*)${s[o.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",d("TILDE",`^${s[o.LONETILDE]}${s[o.XRANGEPLAIN]}$`),d("TILDELOOSE",`^${s[o.LONETILDE]}${s[o.XRANGEPLAINLOOSE]}$`),d("LONECARET","(?:\\^)"),d("CARETTRIM",`(\\s*)${s[o.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",d("CARET",`^${s[o.LONECARET]}${s[o.XRANGEPLAIN]}$`),d("CARETLOOSE",`^${s[o.LONECARET]}${s[o.XRANGEPLAINLOOSE]}$`),d("COMPARATORLOOSE",`^${s[o.GTLT]}\\s*(${s[o.LOOSEPLAIN]})$|^$`),d("COMPARATOR",`^${s[o.GTLT]}\\s*(${s[o.FULLPLAIN]})$|^$`),d("COMPARATORTRIM",`(\\s*)${s[o.GTLT]}\\s*(${s[o.LOOSEPLAIN]}|${s[o.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",d("HYPHENRANGE",`^\\s*(${s[o.XRANGEPLAIN]})\\s+-\\s+(${s[o.XRANGEPLAIN]})\\s*$`),d("HYPHENRANGELOOSE",`^\\s*(${s[o.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[o.XRANGEPLAINLOOSE]})\\s*$`),d("STAR","(<|>)?=?\\s*\\*"),d("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),d("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},function(e,t){const a=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:a.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}},function(e,t,a){a(46),__kbnBundles__.define("plugin/dashboard/public",a,41)},function(e,t,a){a.p=window.__kbnPublicPath__.dashboard},function(e,t,a){var n,r,i=a(33),s=a(34),o=0,l=0;e.exports=function(e,t,a){var d=t&&a||0,c=t||[],u=(e=e||{}).node||n,p=void 0!==e.clockseq?e.clockseq:r;if(null==u||null==p){var b=i();null==u&&(u=n=[1|b[0],b[1],b[2],b[3],b[4],b[5]]),null==p&&(p=r=16383&(b[6]<<8|b[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:l+1,f=h-o+(g-l)/1e4;if(f<0&&void 0===e.clockseq&&(p=p+1&16383),(f<0||h>o)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o=h,l=g,r=p;var m=(1e4*(268435455&(h+=122192928e5))+g)%4294967296;c[d++]=m>>>24&255,c[d++]=m>>>16&255,c[d++]=m>>>8&255,c[d++]=255&m;var v=h/4294967296*1e4&268435455;c[d++]=v>>>8&255,c[d++]=255&v,c[d++]=v>>>24&15|16,c[d++]=v>>>16&255,c[d++]=p>>>8|128,c[d++]=255&p;for(var E=0;E<6;++E)c[d+E]=u[E];return t||s(c)}},function(e,t,a){var n=a(33),r=a(34);e.exports=function(e,t,a){var i=t&&a||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||n)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var o=0;o<16;++o)t[i+o]=s[o];return t||r(s)}},function(e,t,a){e.exports=a(26)(455)},function(e,t){const a=/^[0-9]+$/,n=(e,t)=>{const n=a.test(e),r=a.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},,function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t){e.exports=__kbnSharedDeps__.Moment},function(e,t){e.exports=__kbnSharedDeps__.KbnAnalytics},function(e,t){e.exports=__kbnSharedDeps__.EmotionCache},function(e,t){e.exports=__kbnSharedDeps__.MomentTimezone},function(e,t){e.exports=__kbnSharedDeps__.ReactRouterDom},function(e,t,a){a.r(t);var n=__kbnBundles__.get("plugin/visualizations/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,a){a.r(t);var n=__kbnBundles__.get("plugin/unifiedSearch/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))}]);